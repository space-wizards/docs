# Plant nutrient rework

| Designers | Coders | Implemented | GitHub Links |
|---|---|---|---|
| Wolfkey-SomeoneElseTookMyUsername | Wolfkey-SomeoneElseTookMyUsername | :x: No | TBD |

## Overview

A rework of the potency, nutrient, water, and environmental tolerance mechanics of botany. Instead of having a potency value that decides the amount of reagents a plant generates, it will instead be decided by the amount of, and type of nutrients in the plant. More powerful reagents require nutrients that are harder to obtain, or have other downsides to their use. Some reagents will also change the environmental requirements of the plant that contains them, such as a cryogenics related reagent causing a plant to require colder temperatures to survive.

## Background

The current botany nutrient system is a nutrient ouroboros where you can infinitely feed a plant with its own products, and the only other resource used is infinitely generated by sinks.
Mass producing chemicals like omnizine is incredibly easy, as it uses the same resources that are needed to grow basic food plants like wheat.
If a botanist knows what they are doing, the potency of an unmutated plant will always be either 27-30, or 50.
Pest killer is useless, as the only way for a plant to gain pests is by adding chemicals to a plant that have no good reason to be added to plants.

## Features to be added

The basic water, nutrient, and potency values on plants are removed.

Reagents grown with plants now come with nutrient requirements, the more requirements are met, the more the plant makes.
Nutrient requirements are met by adding the nutrient to the plant via pouring a reagent that contains the nutrient into the tray/soil.

Some nutrients requirements can also be met more efficiently by gasses in the atmosphere.

Nutrients can be specific elements, like carbon or oxygen; or more vague categories, like flammable, cold, or clown-related.

Some reagents contain multiple types of nutrient, for example:
- Blue blood containing high amounts of the "blood" and "water" nutrients, and small amounts of the "meat" and "copper" nutrients.
- Banana honk containing the "nutrient", "clown", "water", "sugar", and "ethanol" nutrients.
- Oil containing high amounts of the "flammable" nutrient, and smaller amounts of the "carbon" nutrient.

If a plant has a large amount nutrients added to it that it can't use, it may lose health. Some nutrients (radioactive, toxic, etc.) deal more damage this way than others.

Some nutrient types come with unwanted effects, even if the plant needs them to survive. For example, sugary nutrients increasing the amount of pests, or radioactive nutrients randomly mutating the plant.
Nutrient requirements are not always from the reagents in a plant. Plants with special properties (steelcaps, death nettles, etc.) can have extra requirements not related to their reagents.

Some reagents will also change the environmental tolerances, or other stats of the plant that makes them.

For example:
- Flammable reagents like welding fuel and oil could lower a plant's tolerance to high temperatures.
- Temperature-stablizing reagents like leporazine could raise a plant's tolerance to both high and low temperatures.
- Polypyrlium oligimers could lower the pressure requirement of a plant so much that it can survive in space, but no longer can survive earth-like air pressure.


## Game Design Rationale

The increased difficulty of making chemicals like omnizine encourages botanists to experiment and grow a variety of plants, instead of just mass producing one or two reagents.

Carefully considering which plant you should grow based off of what nutrients you have access to is probably more fun than growing the same plants every shift.

Botanists can choose to take risks by growing more difficult plants, and are rewarded with better chemicals.

## Roundflow & Player interaction

Encourages botanists to interact with other departments to get new nutrients.

Cargo and salvage can provide raw materials to grind and use as nutrients, such as gold, uranium, plasma, and bananium.
Chefs can provide blood and uncooked animal protein from butchered animals.
Atmos can fill the botany room with gasses to provide nutrients.

Desired gameplay:
- A plant has iron as one of its nutrient requirements, so the botanist grows steelcaps and grinds them for iron.
- A plant has blood as one of its nutrient requirements, so the botanist goes around the station and asks people to donate blood.
- A plant requires low temperatures to survive, so the botanist builds a glass box, and uses a space heater to cool it down.
- A plant requires incredibly high temperatures and pressures to survive, so the botanist asks an atmos tech to plant it in a burn chamber.
- A plant contains a reagent that the botanist does not need, so they intentionally avoid meeting its nutrient requirements.

Undesired gameplay:
- A botanist creates a single plant containing all the reagents they need at the start of the shift, then spends the rest of the shift growing only that plant.
- A botanist asks the chemist for mutagen at the start of the shift, then never interacts with another person for the rest of the shift.

# Technical Considerations

Nutrient requirements and plant stat modifiers could be made a part of the SeedChemQuantity struct.

The guidebook will have to be updated to tell players what plant nutrients reagents contain.

The nutrient requirements of plants will have to be communicated to the players in some way. This could be done by expanding the examination text hydroponics trays, adding a menu for them, or adding plant analyzers.
